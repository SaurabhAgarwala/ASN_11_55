{% extends 'base.html' %}
{% load static %}

{% block one %}
<title>Test Page</title>
<!DOCTYPE html>
<html>
  <header >
    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <script src="https://kit.fontawesome.com/14e9a22ec9.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.13.1/firebase-firestore.js"></script>
  
  </header>
  
  <style>
    @import url('https://fonts.googleapis.com/css?family=Work+Sans:400,600');
    
    body {
      margin: 0;
	    background: rgb(255, 255, 255);
	    font-family: 'Work Sans', sans-serif;
	    font-weight: 800;
}

.container {
	width: 100%;
}

header {
  background: #55d6aa;
}

header::after {
  content: '';
  display: table;
  clear: both;
}

.logo {
  text-align: left;
  float: left;
  padding: 10px 0;
}

nav {
  float: right;
}

nav ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

nav li {
  display: inline-block;
  margin-left: 70px;
  position: relative;
}





nav a:hover::before {
  width: 100%;
}

#element {
	margin: 40px auto 20px auto;
	height: 200px;
	width: 400px;
	background-color: #e9e9e9;
	font-size: 20px;
	padding: 40px 0 0 0;
	text-align: center;
	box-sizing: border-box;
}

#go-button {
	width: 200px;
	display: block;
	margin: 50px auto 0 auto;
}

/* webkit requires explicit width, height = 100% of sceeen */
/* webkit also takes margin into account in full screen also - so margin should be removed (otherwise black areas will be seen) */
#element:-webkit-full-screen {
	width: 100%;
	height: 100%;
	background-color: white;
	margin: 0;
  overflow: auto;
}

#element:-moz-full-screen {
	background-color: white;
	margin: 0;
  overflow: auto;
}

#element:-ms-fullscreen {
	background-color: white;
	margin: 0;
  overflow: auto;
}

/* W3C proposal that will eventually come in all browsers */
#element:fullscreen { 
	background-color: white;
	margin: 0;
  overflow: auto;
}

    #my_camera {
      width: fit-content;
      height: fit-content;
      border: 1px solid black;
      display: inline-block
    }
  </style>
  
  <body onload="myFunction()">

    <button id="modal" class="btn btn-primary" data-toggle="modal" data-target="#exampleModalLong" value="Launch demo modal" style="display: none;"></button>
      
  </input>
      
    <!-- Modal -->
<html ><head><script type="text/javascript" async="" src="https://cse.google.com/cse.js?cx=009682134359037907028:04-bbcbudtk"></script><script>
  var lastScrollTop = 0;
  var animateLogo = false
  var premiumUser = '0';
  var violation = 0;
  const apiUrl = 'https://api.geeksforgeeks.org/';     
  

  if (navigator.mediaDevices && navigator.mediaDevices.enumerateDevices) {
    // Firefox 38+ seems having support of enumerateDevicesx
    navigator.enumerateDevices = function(callback) {
        navigator.mediaDevices.enumerateDevices().then(callback);
    };
}

var MediaDevices = [];
var isHTTPs = location.protocol === 'https:';
var canEnumerate = false;

if (typeof MediaStreamTrack !== 'undefined' && 'getSources' in MediaStreamTrack) {
    canEnumerate = true;
} else if (navigator.mediaDevices && !!navigator.mediaDevices.enumerateDevices) {
    canEnumerate = true;
}

var hasMicrophone = false;
var hasSpeakers = false;
var hasWebcam = false;

var isMicrophoneAlreadyCaptured = false;
var isWebcamAlreadyCaptured = false;

function checkDeviceSupport(callback) {
    if (!canEnumerate) {
        return;
    }

    if (!navigator.enumerateDevices && window.MediaStreamTrack && window.MediaStreamTrack.getSources) {
        navigator.enumerateDevices = window.MediaStreamTrack.getSources.bind(window.MediaStreamTrack);
    }

    if (!navigator.enumerateDevices && navigator.enumerateDevices) {
        navigator.enumerateDevices = navigator.enumerateDevices.bind(navigator);
    }

    if (!navigator.enumerateDevices) {
        if (callback) {
            callback();
        }
        return;
    }

    MediaDevices = [];
    navigator.enumerateDevices(function(devices) {
        devices.forEach(function(_device) {
            var device = {};
            for (var d in _device) {
                device[d] = _device[d];
            }

            if (device.kind === 'audio') {
                device.kind = 'audioinput';
            }

            if (device.kind === 'video') {
                device.kind = 'videoinput';
            }

            var skip;
            MediaDevices.forEach(function(d) {
                if (d.id === device.id && d.kind === device.kind) {
                    skip = true;
                }
            });

            if (skip) {
                return;
            }

            if (!device.deviceId) {
                device.deviceId = device.id;
            }

            if (!device.id) {
                device.id = device.deviceId;
            }

            if (!device.label) {
                device.label = 'Please invoke getUserMedia once.';
                if (!isHTTPs) {
                    device.label = 'HTTPs is required to get label of this ' + device.kind + ' device.';
                }
            } else {
                if (device.kind === 'videoinput' && !isWebcamAlreadyCaptured) {
                    isWebcamAlreadyCaptured = true;
                }

                if (device.kind === 'audioinput' && !isMicrophoneAlreadyCaptured) {
                    isMicrophoneAlreadyCaptured = true;
                }
            }

            if (device.kind === 'audioinput') {
                hasMicrophone = true;
            }

            if (device.kind === 'audiooutput') {
                hasSpeakers = true;
            }

            if (device.kind === 'videoinput') {
                hasWebcam = true;
            }

            // there is no 'videoouput' in the spec.

            MediaDevices.push(device);
        });

        if (callback) {
            callback();
        }
    });
};

var x = document.getElementsByClassName("demo-card-square");
  var allow = document.getElementById("allow");
  var i;
  
</script>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="View all of your activity on GeeksforGeeks here">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
<title>nizamyuseri GeeksforGeeks Profile</title>

<meta name="mobile-web-app-capable" content="yes">
<link rel="icon" sizes="192x192" href="/images/android-desktop.png">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="Material Design Lite">
<link rel="apple-touch-icon-precomposed" href="/images/ios-desktop.png">

<meta name="msapplication-TileImage" content="/images/touch/ms-touch-icon-144x144-precomposed.png">
<meta name="msapplication-TileColor" content="#3372DF">
<meta name="theme-color" content="#0f9d58">
<meta property="og:title" content="nizamyuseri | GeeksforGeeks Profile">
<meta property="og:description" content="A Computer Science portal for geeks">
<meta property="og:image" content="https://media.geeksforgeeks.org/img-practice/user_web-1598433228.svg">

<link rel="shortcut icon" href="https://media.geeksforgeeks.org/wp-content/cdn-uploads/gfg_favicon.png" type="image/x-icon"> 

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.green-red.min.css">
<link rel="stylesheet" href="https://authcdn.geeksforgeeks.org/css/auth.min.css?ver=0.6">
<link rel="stylesheet" href="https://use.typekit.net/vja0nps.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://code.getmdl.io/1.1.3/material.min.js"></script>
<script src="https://authcdn.geeksforgeeks.org/js/auth.min.js?ver=0.1"></script>

<script>
  (function () {
      var cx = '009682134359037907028:04-bbcbudtk';
      var gcse = document.createElement('script');
      gcse.type = 'text/javascript';
      gcse.async = true;
      gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
          '//cse.google.com/cse.js?cx=' + cx;
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(gcse, s);
  })();
</script>

<style>
.gsc-search-button{
margin-left: -1px !important;
}

.gsc-search-button-v2, .gsc-search-button-v2:hover, .gsc-search-button-v2:focus{
border-color: #4CB96B !important;
background-color: #4CB96B !important;
cursor: pointer;
}
</style>
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
  <script>
  window.addEventListener("load", function(){
  window.cookieconsent.initialise({
  "palette": {
      "popup": {
        "background": "#3c404d",
        "text": "#d6d6d6"
      },
      "button": {
        "background": "#8bed4f"
      }
    },
    "theme": "classic",
      onStatusChange: function(status) {
      
      },
      "content": {
      "message": "We use cookies to ensure you have the best browsing experience on our website. By using our site, you acknowledge that you have read and understood our <a href=\"https://www.geeksforgeeks.org/cookie-policy/\" class=\"cc-link\" target=\"_blank\">Cookie Policy</a> & ",
      "link": "Privacy Policy",
      "href": "https://www.geeksforgeeks.org/privacy-policy/"
      },
  cookie: {
  name : "geeksforgeeks_consent_status",
  }
  })});

  </script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,400;1,300&amp;display=swap" rel="stylesheet">
<script data-dapp-detection="">!function(){let e=!1;function n(){if(!e){const n=document.createElement("meta");n.name="dapp-detected",document.head.appendChild(n),e=!0}}if(window.hasOwnProperty("ethereum")){if(window.__disableDappDetectionInsertion=!0,void 0===window.ethereum)return;n()}else{var t=window.ethereum;Object.defineProperty(window,"ethereum",{configurable:!0,enumerable:!1,set:function(e){window.__disableDappDetectionInsertion||n(),t=e},get:function(){if(!window.__disableDappDetectionInsertion){const e=arguments.callee;e&&e.caller&&e.caller.toString&&-1!==e.caller.toString().indexOf("getOwnPropertyNames")||n()}return t}})}}();</script><script src="https://www.google.com/cse/static/element/a57bc5975bc720b0/cse_element__en.js?usqp=CAI%3D" type="text/javascript"></script><link type="text/css" rel="stylesheet" href="https://www.google.com/cse/static/element/a57bc5975bc720b0/default+en.css"><link type="text/css" rel="stylesheet" href="https://www.google.com/cse/static/style/look/v4/default.css"><style type="text/css">.gsc-control-cse{font-family:arial, sans-serif}.gsc-control-cse .gsc-table-result{font-family:arial, sans-serif}.gsc-refinementsGradient{background:linear-gradient(to left,rgba(233,233,233,1),rgba(233,233,233,0))}</style><style type="text/css">.gscb_a{display:inline-block;font:27px/13px arial,sans-serif}.gsst_a .gscb_a{color:#a1b9ed;cursor:pointer}.gsst_a:hover .gscb_a,.gsst_a:focus .gscb_a{color:#36c}.gsst_a{display:inline-block}.gsst_a{cursor:pointer;padding:0 4px}.gsst_a:hover{text-decoration:none!important}.gsst_b{font-size:16px;padding:0 2px;position:relative;user-select:none;-webkit-user-select:none;white-space:nowrap}.gsst_e{vertical-align:middle;opacity:0.55;}.gsst_a:hover .gsst_e,.gsst_a:focus .gsst_e{opacity:0.72;}.gsst_a:active .gsst_e{opacity:1;}.gsst_f{background:white;text-align:left}.gsst_g{background-color:white;border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);margin:-1px -3px;padding:0 6px}.gsst_h{background-color:white;height:1px;margin-bottom:-1px;position:relative;top:-1px}.gsib_a{width:100%;padding:4px 6px 0}.gsib_a,.gsib_b{vertical-align:top}.gssb_c{border:0;position:absolute;z-index:989}.gssb_e{border:1px solid #ccc;border-top-color:#d9d9d9;box-shadow:0 2px 4px rgba(0,0,0,0.2);-webkit-box-shadow:0 2px 4px rgba(0,0,0,0.2);cursor:default}.gssb_f{visibility:hidden;white-space:nowrap}.gssb_k{border:0;display:block;position:absolute;top:0;z-index:988}.gsdd_a{border:none!important}.gsq_a{padding:0}.gssb_a{padding:0 7px}.gssb_a,.gssb_a td{white-space:nowrap;overflow:hidden;line-height:22px}#gssb_b{font-size:11px;color:#36c;text-decoration:none}#gssb_b:hover{font-size:11px;color:#36c;text-decoration:underline}.gssb_g{text-align:center;padding:8px 0 7px;position:relative}.gssb_h{font-size:15px;height:28px;margin:0.2em;-webkit-appearance:button}.gssb_i{background:#eee}.gss_ifl{visibility:hidden;padding-left:5px}.gssb_i .gss_ifl{visibility:visible}a.gssb_j{font-size:13px;color:#36c;text-decoration:none;line-height:100%}a.gssb_j:hover{text-decoration:underline}.gssb_l{height:1px;background-color:#e5e5e5}.gssb_m{color:#000;background:#fff}.gssb_a{padding:0 9px}.gsib_a{padding:5px 9px 4px 9px}.gscb_a{line-height:27px}.gssb_e{border:0}.gssb_l{margin:5px 0}input.gsc-input::-webkit-input-placeholder{font-size:14px}input.gsc-input:-moz-placeholder{font-size:14px}input.gsc-input::-moz-placeholder{font-size:14px}input.gsc-input:-ms-input-placeholder{font-size:14px}input.gsc-input:focus::-webkit-input-placeholder{color:transparent}input.gsc-input:focus:-moz-placeholder{color:transparent}input.gsc-input:focus::-moz-placeholder{color:transparent}input.gsc-input:focus:-ms-input-placeholder{color:transparent}.gssb_c .gsc-completion-container{position:static}.gssb_c{z-index:5000}.gsc-completion-container table{background:transparent;font-size:inherit;font-family:inherit}.gssb_c > tbody > tr,.gssb_c > tbody > tr > td,.gssb_d,.gssb_d > tbody > tr,.gssb_d > tbody > tr > td,.gssb_e,.gssb_e > tbody > tr,.gssb_e > tbody > tr > td{padding:0;margin:0;border:0}.gssb_a table,.gssb_a table tr,.gssb_a table tr td{padding:0;margin:0;border:0}</style><style></style></head>

<body>
<div style="  position: fixed;" class="mdl-layout__container"><div data-upgraded=",MaterialLayout">
  <header >
    <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.0.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  
  <div class="container" style="float: left;margin-left:0px;width:100%;height:70px"  >
    <nav style="float: left;margin-left:0px;width:100%">
    <ul style="float: left;margin-left:0px;width:100%">
      
      <a href="/users/logout"><button type="button" class="btn btn-danger" style="height:40px;float: right;margin-top:10px;margin:10px 0px 10px 90px"><p style = "font-family:roboto,garamond,serif;font-size:10px;">Logout</p></button></a>
      <li style="margin-left:0px"><img style="width:60px;height:60px;margin-top:4px;margin-right:0px" src="https://i.ibb.co/sPS5YM5/Hack-logo.png"/></li>
      <li style="margin-left:0px;"><p style="font-family:roboto,garamond,serif;font-size:25px;"></li>
      <li style="float: right;margin-top:4px;margin-right:0px"><p id="my_msg" style="margin-top:14px;float: right;margin-left: 5px;"></p></li>
      <li style="float: right;margin-top:4px;margin-right:0px;text-align:center;"><b style = "text-align:center;font-family:roboto,garamond,serif;font-size:18px;margin-top:14px;float: right;" id="hack">Hackathon Exam</b></li>
      <li>
    </ul>
  </nav>
   
  </div>
  </header>
  <div class="mdl-layout-title mdl-grid--no-spacing" style="width:100%;position: fixed;" hidden >
  </div>
<!-- Modal for Custom GCSE result display -->
<div id="displayModal" class="modal fade" role="dialog">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="error-message"></div>
          <div class="modal-header">
              <button onclick="closeDisplayModal(event)" type="button" class="close" data-dismiss="modal">×</button>
              <h2 class="modal-title" id="dmTitle"></h2>
          </div>
          <div class="modal-body" id="dmBody">
              <div id="modal-dm-content"></div>
              <div class="modal-overlay" aria-hidden="true">
                  <span class="loader__animation"></span>
              </div>
              <!-- body -->
          </div>
          <div class="modal-footer">
              <!-- button -->
          </div>
      </div>
  </div>
</div>
<!-- End of custom modal -->
<script>
//Premium GCS Code
jQuery("body").on("submit", "#gcse-form", function (e) {
  e.preventDefault()
  if (window.innerWidth < 992) {
      toggleSearch(false, cb => {
          if (cb) {
              gcseCustomSearch();
          }
      })
      return;
  }
  jQuery("#gcse-form").attr("data-sm", false)
  gcseCustomSearch()
})

jQuery("#gcse-search-input").on("change keyup paste", function () {
  if (jQuery.trim(jQuery(this).val()) && window.innerWidth > 992) {
      jQuery(".gcse-search__close").removeClass("display-none")
  } else {
      jQuery(".gcse-search__close").addClass("display-none")
  }
})

const toggleSearch = (close = false, callback) => {
  let $this = jQuery("#gcse-form")
  let $button = $this.children("button")
  if ($button.hasClass("not-expanded") && !close) {
      jQuery("#gcse-form").attr("data-sm", true)
      $this.children("input").attr("aria-expanded", true)
      $button.removeClass("not-expanded")
      $button.css("display", "none")
      return callback(false)
  } else if (close) {
      jQuery("#gcse-form").attr("data-sm", false)
      $button.css("display", "unset")
      $this.children("input").attr("aria-expanded", false)
      $button.addClass("not-expanded")
      jQuery(".gcse-search__close").addClass("display-none")
      return callback(null)
  } else {
      return callback(true)
  }
}

const closeDisplayModal = () => {
  displayModalHandlers.setErrorMessage("")
  displayModalHandlers.setTitle("")
  displayModalHandlers.setBody("")
  displayModalHandlers.setFooter("")
  jQuery("#displayModal").hide()
}

const displayModalHandlers = {
  setTitle : title => {
    jQuery("#displayModal #dmTitle").html(title)
  },
  setBody : body => {
    jQuery("#displayModal #modal-dm-content").html(body)
  },
  setFooter : footer => {
    jQuery("#displayModal .modal-footer").html(footer)
  },
  setErrorMessage : msg => {
    jQuery("#displayModal .error-message").html(msg)
  },
  customizeCloseButton : css => {
    jQuery("#displayModal .modal-header button").css({...css})
  },
  customizeModalWidth : className => {
    jQuery("#displayModal .modal-content").addClass(className)
  },
  customizeModal : css => {
    jQuery("#displayModal").css({...css})
  }
}

const displayModal = (e, type, subType = "") => {
// e.preventDefault();
jQuery("#displayModal .modal-content").removeAttr("data-type")
jQuery("#displayModal .modal-overlay").attr("aria-hidden", true)

if(type === "feed"){
  jQuery("#displayModal").show()
  feedModal(subType)
}
if(type === "google-search"){
  jQuery("#displayModal").show()
}
if(type === "paypal") {
  jQuery("#displayModal").show()
}
}
// End of Premium GCSE Logic

// Premium GCSE Logic Start
// Remove comment from below to enable premium GCSE search


</script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.0/Chart.bundle.min.js"></script>
<style>


</style> 
  <div class="mdl-layout-spacer"></div>
<script>

    var countDownDate = new Date("Feb 2, 2021 23:14:50").getTime();

    var x = setInterval(function() {

// Get today's date and time
var now = new Date().getTime();

// Find the distance between now and the count down date
var distance = countDownDate - now;

// Time calculations for days, hours, minutes and seconds
var days = Math.floor(distance / (1000 * 60 * 60 * 24));
var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
var seconds = Math.floor((distance % (1000 * 60)) / 1000);



// If the count down is finished, write some text
if (distance < 0) {
  clearInterval(x);
  var x = document.getElementsByClassName("demo-card-square");
  document.getElementById("demo").innerHTML = "EXPIRED";
  document.getElementById("allow").innerHTML = "<center><b style=font-size:30px;color:red>Exam has ended</b></center>";
  document.getElementById("allow").style.display = "block";
  for(i=0;x.length;i++){
  x[i].style.display = "none";
  }
  document.getElementById("demo").style.color = "red";
  document.getElementById("hand").style.display = "block";
} else {
  // Display the result in the element with id="demo"
  console.log("test "+hours + "h "
  + minutes + "m " + seconds + "s ");
  document.getElementById("hack").style.display = "block";
  document.getElementById("allow").style.display = "none";
  var t = document.getElementById("timeleft").innerHTML = hours + "h "
  + minutes + "m " + seconds + "s ";
  document.getElementById("timeleft").style.fontSize = "25px";
  console.log(distance);
  if(distance < 600173){
  document.getElementById("timeleft").style.color = "red";
  } else{
  document.getElementById("timeleft").style.color = "blue";
  document.getElementById("timeleft").innerHTML = "Time Left: "+t;
  }
}
}, 1000);
      </script>
      <style>
      .mdl-layout__content {
          background-color: #ebebeb;
      }
      .demo-card-square.mdl-card {
          width: 100%;
          height: auto;
          border-radius:10px;
          margin:20px;
      }
      .demo-card-square > .mdl-card__title {
          color: #626262;
          background: white;
          background-repeat: no-repeat;
          background-position-x: 100%;
      }
      .mdl-card__actions{
          background-color: #2e416f;
      }
      .mdl-card__title{
          display:inline;
      }
      .feedTitle{
        font-size:40px;
      }
      .mdl-card__title-text{
          align-self:normal;
          font-weight:400;
          text-decoration:none;
          font-family: "Ubuntu",sans-serif;
      }
      .mdl-shadow--2dp {
          box-shadow: 5px 5px 30px #bfb5b5;
      }
      .term-chip {
          border-radius: 4px;
          background-color: #83bb8d;
          margin: 2px;
      }
      .mdl-chip__text a{
          color: #fff;font-size:14px;font-weight:500;
      }
      .mdl-card__supporting-text {
          font-weight:400px;
          padding:10px 10px;
      }

      .loader {
        border: 10px solid #71d3a3;
        border-radius: 50%;
        border-top: 10px solid #0f9d58;
        width: 80px;
        height: 80px;
        -webkit-animation: spin 2s linear infinite; /* Safari */
        animation: spin 2s linear infinite;
        margin: auto;
      }

      /* Safari */
      @-webkit-keyframes spin {
        0% { -webkit-transform: rotate(0deg); }
        100% { -webkit-transform: rotate(360deg); }
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
      .following{
          position: fixed;
          right:calc(8.33% - 8px);
      }
      .category-chip{
          margin:2px;
      }
      .category-chip .mdl-navigation__link{
          color:rgba(0,0,0,0.87);
      }
      .excerpt{
              font-size: 16px;
              max-width: 90%;
      }
      .float-container {
    border: 3px solid #fff;
    padding: 20px;
}

.float-child {
    width: 50%;
    float: left;
    padding: 20px;
    border: 2px solid #55d6aa;
}  
      @media only screen and (max-width: 768px) {
        .following {
          display:none;
        }
        .following-fab {
          display:block !important;
          position:fixed;
          z-index:10;
          bottom:40px;
          background:#dcdcdc !important;
          left:25px;
        }
      }

footer {
  width:100%;
  text-align: center;
  padding: 3px;
  background-color: #55d6aa;
  color: white;
}
  </style>
  <div><b id="allow" style="font-size:20px">please allow access to camera and mic and refresh this page to begin the exam</b></div>
  

  
  <div style="width:47%;margin:10px;height:750px;" class="float-child demo-card-square mdl-card mdl-shadow--2dp">

    <div class="mdl-card__title mdl-card--expand featured">
      <center><h1>Candidate Details</h1>
      <img style="height:150px;width:150px" src="http://raivens.com/hackathon examwp-content/uploads/2016/08/Dummy-image.jpg"/>
      <br><br>
     <text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;">Name: {{ user.username }} </p></text>
     <text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;">Student ID: {{ user.pk }}</p></text>
      <text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;">Email: {{ user.email }}</p></text>
        <!-- <text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;">Mobile No.:0123456789</p></text> -->
      
      
      
      </p>
      </center>
    </div>
    <div class="mdl-card__title mdl-card--expand featured">
      <center><h1>Exam Details</h1>
        <text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;">Subject: Network Management</p>
          <text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;">Date: 2 Feb 2021</p>
            <!-- <text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;">Time: 10.00am - 11.30am</p> -->
              <text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;">Duration: 1 Hour 30 minutes</p>
      
      
      
      </p></center>
    </div>
  </div>
  <p id="violate" style="display:none"></p>
  <div style="width:50%;height:500px;margin:10px;height:750px;" class="float-child demo-card-square mdl-card mdl-shadow--2dp">
    <tr><td>
    <div class="mdl-card__title mdl-card--expand featured" style="
    justify-content: center;
    align-items: center;">
    <br>
    <br>
    <br>
    <br>

      <center><h1>Instructions</h1></center>
      <br>
      <br>
    <p class=" feedTitle" style = "font-family:roboto,garamond,serif;font-size:35px;" >
      <ol style = "font-family:roboto,garamond,serif;font-size:30px;">
      <li style="margin-left:100px;margin-right:120px"><text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;" align="justify">Please stay in the fullscreen while examination is in progress or you will be disqualified</p></text></li>
      <li style="margin-left:100px;margin-right:120px"><text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;" align="justify">A working microphone and camera atached to your computer is required in order to answer the exam</p></text></li>
      <li style="margin-left:100px;margin-right:120px"><text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;" align="justify">Please always allow access to your microphone and camera while examination is in progress</p></text></li>
      <li style="margin-left:100px;margin-right:120px"><text style="font-size:30px;font-style:initial"><p style = "font-family:roboto,garamond,serif;font-size:30px;" align="justify">Dont switch to other window or you will be disqualified</p></li>
      
    </p>
    <div class="mdl-card__supporting-text excerpt">
    </div>
    </div>
    <center><p style = "font-family:roboto,garamond,serif;font-size:30px;">All the best!</p><i class="fas fa-thumbs-up fa-2x"></i></center>
    <button valign="bottom" id="go-button" class="btn btn-success" style="margin-bottom:10px"><p style = "font-family:roboto,garamond,serif;font-size:25px;">Attempt exam</p></button>
  </div>

  <button style="display:none" id="btnStart"></button>
  <button style="display:none" id="btnStop"></button>
  
  <div id="element" style="display:none">
    <header>
      <div class="container" style="float: left;margin-left:0px;width:100%;height:70px;"  >
        <nav style="float: left;margin-left:0px;width:100%">
        <ul style="float: left;margin-left:0px;width:100%">
          <li style="float: left;margin-left:0px"><img style="width:60px;height:60px;margin-top:4px;margin-right:0px" src="https://i.ibb.co/sPS5YM5/Hack-logo.png"/></li>
          <li style="float: left;margin-left:0px"></li>
          <li style="float: right;margin-top:4px;margin-right:0px"><p id="my_msg" style="margin-top:14px;float: right;"></p></li>
          <li style="float: right;margin-top:4px;margin-right:0px"><b style = "font-family:roboto,garamond,serif;font-size:18px;margin-top:14px;float: right;" id="hack">Hackathon Exam</b></li>
          <li style="float: right;margin-top:4px;margin-right:0px"><b style = "font-family:roboto,garamond,serif;font-size:18px;margin-top:14px;float: right;" id="hack">Proctoring ongoing</b></li>
          <li>
        </ul>
      </nav>
       
      </div>
    </header>
  <div class="mdl-grid"><div class="mdl-cell mdl-cell--1-offset-desktop mdl-cell--6-col">
  <div class="demo-card-square mdl-card mdl-shadow--2dp">
<div class="mdl-card__title mdl-card--expand featured">
<p class="mdl-card__title-text feedTitle" >
  1. When is the date of 2021 ASEAN Hackathon?
</p>
<div class="mdl-card__supporting-text excerpt"><input type="radio" id="Feburary" name="answer1" value="A" >
  <label style="text-align: left;" for="Feburary"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >February</p></label><br>
  <input type="radio" id="January" name="answer1" value="B">
    <label for="January"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >January</p></label><br>
      <input type="radio" id="November " name="answer1" value="C">
      <label for="November "><p style="font-size:30px" class="mdl-card__title-text feedTitle" >November</p></label><br>
      <input type="radio" id="December" name="answer1" value="D">
        <label for="December"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >December</p></label><br></div>
</div>
</div>

<div class="demo-card-square mdl-card mdl-shadow--2dp">
  <div class="mdl-card__title mdl-card--expand featured">
  <p class="mdl-card__title-text feedTitle" >
    2. When is the date of 2021 ASEAN Hackathon?
  </p>
  <div class="mdl-card__supporting-text excerpt"><input type="radio" id="Feburary" name="answer1" value="A" >
  <label style="text-align: left" for="Feburary"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >February</p></label><br><input type="radio" id="January" name="answer1" value="B">
    <label for="January"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >January</p></label><br><input type="radio" id="November " name="answer1" value="C">
      <label for="November "><p style="font-size:30px" class="mdl-card__title-text feedTitle" >November</p> </label><br><input type="radio" id="December" name="answer1" value="D">
        <label for="December"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >December</p></label><br></div>
  
  
  </div>
  </div>

  <div class="demo-card-square mdl-card mdl-shadow--2dp">
    <div class="mdl-card__title mdl-card--expand featured">
    <p class="mdl-card__title-text feedTitle" >
      3. When is the date of 2021 ASEAN Hackathon?
    </p>
    <div class="mdl-card__supporting-text excerpt"><input type="radio" id="Feburary" name="answer2" value="A" >
    <label style="text-align: left" for="Feburary"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >February</p></label><br><input type="radio" id="January" name="answer2" value="B">
      <label for="January"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >January</p></label><br><input type="radio" id="November " name="answer2" value="C">
        <label for="November "><p style="font-size:30px" class="mdl-card__title-text feedTitle" >November</p> </label><br><input type="radio" id="December" name="answer2" value="D">
          <label for="December"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >December</p></label><br></div>
    
    
    </div>
    </div>

    <div class="demo-card-square mdl-card mdl-shadow--2dp">
      <div class="mdl-card__title mdl-card--expand featured">
      <p class="mdl-card__title-text feedTitle" >
        4. When is the date of 2021 ASEAN Hackathon?
      </p>
      <div class="mdl-card__supporting-text excerpt"><input type="radio" id="Feburary" name="answer3" value="A" >
      <label style="text-align: left" for="Feburary"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >February</p></label><br><input type="radio" id="January" name="answer3" value="B">
        <label for="January"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >January</p></label><br><input type="radio" id="November " name="answer3" value="C">
          <label for="November "><p style="font-size:30px" class="mdl-card__title-text feedTitle" >November</p> </label><br><input type="radio" id="December" name="answer3" value="D">
            <label for="December"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >December</p></label><br></div>
      
      
      </div>
      </div>

      <div class="demo-card-square mdl-card mdl-shadow--2dp">
        <div class="mdl-card__title mdl-card--expand featured">
        <p class="mdl-card__title-text feedTitle" >
          5. When is the date of 2021 ASEAN Hackathon?
        </p>
        <div class="mdl-card__supporting-text excerpt"><input type="radio" id="Feburary" name="answer4" value="A" >
        <label style="text-align: left" for="Feburary"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >February</p></label><br><input type="radio" id="January" name="answer4" value="B">
          <label for="January"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >January</p></label><br><input type="radio" id="November " name="answer4" value="C">
            <label for="November "><p style="font-size:30px" class="mdl-card__title-text feedTitle" >November</p> </label><br><input type="radio" id="December" name="answer4" value="D">
              <label for="December"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >December</p></label><br></div>
        
        
        </div>
        </div>

        <div class="demo-card-square mdl-card mdl-shadow--2dp">
          <div class="mdl-card__title mdl-card--expand featured">
          <p class="mdl-card__title-text feedTitle" >
            6. When is the date of 2021 ASEAN Hackathon?
          </p>
          <div class="mdl-card__supporting-text excerpt"><input type="radio" id="Feburary" name="answer5" value="A" >
          <label style="text-align: left" for="Feburary"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >February</p></label><br><input type="radio" id="January" name="answer5" value="B">
            <label for="January"><p style="font-size:30px" class="mdl-card__title-text feedTitle" >January</p></label><br><input type="radio" id="November " name="answer5" value="C">
              <label for="November "><p style="font-size:30px" class="mdl-card__title-text feedTitle" >November</p> </label><br><input type="radio" id="December" name="answer5" value="D">
                <label for="December"><p style="font-size:30px" class="mdl-card__title-text feedTitle" ></p>December</label><br></div>
          </div>
          </div>

</div>
<div class="mdl-cell mdl-cell--1-offset-desktop mdl-cell--3-col following"><div class="demo-card-square mdl-card mdl-shadow--2dp">
<div class="mdl-card__title mdl-card--expand" style="background: none;padding: 0;">
  <span class="more" style="text-align:center;color:#000;position:absolute;bottom:5%;right:5%"><button class="mdl-button mdl-js-button mdl-button--fab mdl-button--mini-fab" style="background-color: red" data-upgraded=",MaterialButton">
    <i class="fa fa-microphone"></i>
  </button></span>
<div class="mdl-card__title-text" style="display:block;text-align:center;background: #0f9d58;color: white;">CAMERA</div>
<center><div class="mdl-card__supporting-text excerpt" style="text-align:center;width:fit-content;height:fit-content; "><div id="my_camera"></div></center>
</div>
</div>
</div>

<div class="mdl-cell mdl-cell--1-offset-desktop mdl-cell--3-col following" style="position:fixed;margin-top:400px"><div class="demo-card-square mdl-card mdl-shadow--2dp">
  <div class="mdl-card__title mdl-card--expand" style="background: none;padding: 0;">
    <span class="more" style="text-align:center;color:#000;position:absolute;bottom:5%;right:5%">
    </button></span>
  <div class="mdl-card__title-text" style="display:block;text-align:center;background: #0f9d58;color: white;">INFORMATION</div>
  <center><div class="mdl-card__supporting-text excerpt" style="text-align:center;width:fit-content;height:fit-content; ">
    <p id="timeleft" style="margin-top:14px;font-size:25px"></p>
    <p style="font-size:25px">Subject: Network Management<br>
      <p style="font-size:25px">Date: 2 Feb 2021<br>
        <p style="font-size:25px">Time: 10.00am - 11.30am<br>
          <p style="font-size:25px">Duration: 1 Hour 30 minutes<br>
            <button valign="bottom" id="go-button" class="btn btn-success"><p style = "font-family:roboto,garamond,serif;font-size:25px;">Submit</p></button>
      
      
      
      </p></center>
  
  </div>
  </div>
  </div>
</div>
<footer style="width: 100%; bottom: 0px;">
  <p style = "font-family:roboto,garamond,serif;font-size:18px;">Any question just contact this number: </p>
  <p style = "font-family:roboto,garamond,serif;font-size:18px;"><a href="online@proctor.com">(+60) 123456789(test admin)</a></p>
    <p style = "font-family:roboto,garamond,serif;font-size:18px;"><a href="online@proctor.com">online@proctor.com</a></p>
</footer> 
</div>
</div>
    
   <!-- Global site tag (gtag.js) - Google Analytics -->

<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());

gtag('config', 'UA-112208093-1');
</script>


<div class="mdl-layout__obfuscator"></div></div></div>
<script>

        // show edit div to change profile picture of user when hover on avatar div
  $(".userDiv,.userEditImageDiv").mouseenter(function() {          
    $(".userEditImageDiv").toggle();        
  }).mouseleave(function () {   
    $(".userEditImageDiv").hide();
  });

  $('.changePicStrip').click(function(){
    $('.imageFile').click();
  });

//to make footer sticky to bottom when it goes up.                                  
$(document).ready(function(){
  (function(){
      if($(window).width() > 768){
        if($(window).height() - ( $('footer').offset().top + $('footer').height() ) > 0){
          var wh = ($(window).width() - $('.mdl-layout__drawer').width()).toString()+'px';
          $('footer').css({'position':'fixed', 'width':wh, 'bottom':'0'});        
        }
      }
  })();
});

var origWidth = $(window).width();
$(window).resize(function(){                                                        
  var tempWidth = $(window).width();
  if($(window).width() < 1024 || tempWidth == origWidth){                                                   
    $('footer').css({'position':'relative', 'width':'auto', 'bottom':'auto'});  
  }
  else{                                                                           
    var wh = ($(window).width() - $('.mdl-layout__drawer').width()).toString()+'px';
    if($(window).height() - ( $('footer').offset().top + $('footer').height() )){
        $('footer').css({'position':'fixed', 'bottom':'0'});                    
    }                                                                           
    $('footer').css('width',wh);                                                
  }
});

</script>
    <div class="dialog-div" style="display: none;width: 100vw;height: 100vh;background-color: rgba(204,204,204,0.6);position: fixed;top: 0;z-index: 10;">
</div>
<script>
  if (sessionStorage.getItem('AnnouncementOnce') !== 'true') {
    window.setTimeout(popupwin,1000);
    function popupwin(){
      $('.dialog-div').show();
    }
    sessionStorage.setItem('AnnouncementOnce','true');
  }
  $('body').on('click', 'dialog .close-dialog', function(){
    $('.dialog-div').hide();
  });
  $('body').on('click', 'dialog .change-edit-page', function(){
    window.location.href = 'https://auth.geeksforgeeks.org/edit-profile.php';
  });
</script>
<table cellspacing="0" cellpadding="0" class="gstl_50 gssb_c" style="width: 257px; display: none; top: 57px; position: absolute; left: 1041px;"><tbody><tr><td class="gssb_f"></td><td class="gssb_e" style="width: 100%;"></td></tr></tbody></table></body></html></center>

</body>

  <script>

    function display_c(){
    
    }
    
        var fileName = "";
        var data_uri = "";
        var str_counter_0 = 1;
        var str_counter_1 = "Image_"+ {{ user.pk }} + "_" + str_counter_0;
        var str_counter_2 = "audio_recording_"+str_counter_0;
         const firebaseConfig = {
          apiKey: "AIzaSyBzzsBQLEskwb4ly6egRZgEctsjx90b1ig",
          authDomain: "online-proctoring.firebaseapp.com",
          projectId: "online-proctoring",
          storageBucket: "online-proctoring.appspot.com",
          messagingSenderId: "812057776891",
          appId: "1:812057776891:web:66bca88a7867d94b2fd65e",
        };
    
        firebase.initializeApp(firebaseConfig);
        var firestore = firebase.firestore();
      const snapshots = firestore.doc("snapshots/nizam");
      
      function reload(){
        var refresh=1000; // Refresh rate in milli seconds
        mytime=setTimeout('display_msg()',refresh)
        var container = document.getElementById("my_msg");
        var content = container.innerHTML;
        container.innerHTML= content;
      }
      
      function myFunction() {
        checkDeviceSupport();
        reload();
        /* Get into full screen */
    function GoInFullscreen(element) {
      if(element.requestFullscreen){
        isfullscreen = false;
        element.requestFullscreen();
      }else if(element.mozRequestFullScreen){
      isfullscreen = true;
        element.mozRequestFullScreen();}
      else if(element.webkitRequestFullscreen){
      isfullscreen = true;
        element.webkitRequestFullscreen();}
      else if(element.msRequestFullscreen){
      isfullscreen = true;
        element.msRequestFullscreen();}
    }
    
    /* Get out of full screen */
    function GoOutFullscreen() {
      if(document.exitFullscreen){
        isfullscreen = false;
        document.exitFullscreen();}
      else if(document.mozCancelFullScreen)
        document.mozCancelFullScreen();
      else if(document.webkitExitFullscreen)
        document.webkitExitFullscreen();
      else if(document.msExitFullscreen)
        document.msExitFullscreen();
    }
    
    /* Is currently in full screen or not */
    function IsFullScreenCurrently() {
      var full_screen_element = document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement || null;
    
      
      // If no element is in full-screen
      if(full_screen_element === null){
        return false;
      }
      else{
        return true;
      }
    }
    
    $("#go-button").on('click', function() {
      if(IsFullScreenCurrently())
        GoOutFullscreen();
      else
        GoInFullscreen($("#element").get(0));
    });
    
    $(document).on('fullscreenchange webkitfullscreenchange mozfullscreenchange MSFullscreenChange', function() {
      if(IsFullScreenCurrently()) {
        $("#go-button").text('Disable FullScreen');
        document.getElementById('element').style.display = "";
      }
      else {
        setTimeout(alert("Please return to the exam in fullscreen mode or you will be disqualified for this exam "), 100);
        $("#go-button").text('Attempt Exam');
        document.getElementById('element').style.display = "none";
      }
    });
    
    
        Webcam.set({
          width: 320,
          height: 240,
          image_format: "jpeg",
          jpeg_quality: 90,
        });
        Webcam.attach("#my_camera");
    
        var intervalId = window.setInterval(function () {
          take_snapshot(data_uri);
        }, 10000);
    
        function take_snapshot(data_uri) {
          // take snapshot and get image data
          Webcam.snap(function (data_uri, fileName) {
            var current = new Date();
            $name = "'candidate name'";
            fileName = $name + " " + current.toLocaleTimeString() + " " + data_uri;
            let btnstop = document.querySelector('#btnStop').click();
            let btn = document.querySelector('#btnStart').click();
            snapshots
              .update({
                [str_counter_1]: data_uri,
              })
              .then(function () {
                str_counter_0++;
                str_counter_1 = "Image_snapshot_"+str_counter_0;
                console.log("Image saved successfully");
                
              })
              .catch(function (error) {
                console.log("Got an error: ", error);
              });
            retrieveImages();
          });
        }
    
        function retrieveImages() {
          
          const docRef = firestore.collection("snapshots").doc("nizam");
          docRef
            .get()
            .then(function (doc) {
              if (doc.exists) {
                //console.log("Document data:", doc.data().Image_snapshot_1);
                for (let key in doc.data()) { 
                    if (doc.data().hasOwnProperty(key)) 
                    { 
                        value = doc.data()[key]; 
                        document.getElementById("results").innerHTML =
                        "<img src='" +doc.data().Image_snapshot_1+"'/>";
                        window.location.href = doc.data().Image_snapshot_1;
                        var a = document.createElement("a"); 
                        a.href =  doc.data().Image_snapshot_1; //Image Base64 Goes here
                        a.download = "Image.png"; //File name Here
                        a.click(); //Downloaded file
                    } 
                } 
                // take snapshot and get image data
                
              } else {
                // doc.data() will be undefined in this case
                console.log("No such document!");
              }
            })
            .catch(function (error) {
              console.log("Error getting document:", error);
            });
        }
    
    
          let audioIN = { audio: true };
          // audio is true, for recording
    
          // Access the permission for use
          // the microphone
          navigator.mediaDevices
            .getUserMedia(audioIN)
    
            // 'then()' method returns a Promise
            .then(function (mediaStreamObj) {
              // Connect the media stream to the
              // first audio element
              let audio = document.querySelector("audio");
              //returns the recorded audio via 'audio' tag
    
              // 'srcObject' is a property which
              // takes the media object
              // This is supported in the newer browsers
              if ("srcObject" in audio) {
                audio.srcObject = mediaStreamObj;
              } else {
                // Old version
                audio.src = window.URL.createObjectURL(mediaStreamObj);
              }
    
              // It will play the audio
              audio.onloadedmetadata = function (ev) {
                // Play the audio in the 2nd audio
                // element what is being recorded
                //audio.play();
              };
    
              // Start record
              let start = document.getElementById("btnStart");
              let btn = document.querySelector('#btnStart').click(); 
    
              // Stop record
              let stop = document.getElementById("btnStop");
    
              // 2nd audio tag for play the audio
              let playAudio = document.getElementById("adioPlay");
    
              // This is the main thing to recorde
              // the audio 'MediaRecorder' API
              let mediaRecorder = new MediaRecorder(mediaStreamObj);
              // Pass the audio stream
              mediaRecorder.start();
              document.getElementById('status').innerHTML = "Recording";
              // Start event
              start.addEventListener("click", function (ev) {
          mediaRecorder.start();
          document.getElementById('status').innerHTML = "Recording";
                // console.log(mediaRecorder.state);
              });
    
              // Stop event
              stop.addEventListener("click", function (ev) {
          mediaRecorder.stop();
          document.getElementById('status').innerHTML = "Stopped";
                // console.log(mediaRecorder.state);
              });
    
              // If audio data available then push
              // it to the chunk array
              mediaRecorder.ondataavailable = function (ev) {
                dataArray.push(ev.data);
              };
    
              // Chunk array to store the audio data
              let dataArray = [];
    
              // Convert the audio data in to blob
              // after stopping the recording
              mediaRecorder.onstop = function (ev) {
                // blob of type mp3
                let audioData = new Blob(dataArray, { type: "audio/mp3;" });
    
                // After fill up the chunk
                // array make it empty
                dataArray = [];
    
                // Creating audio url with reference
                // of created blob named 'audioData'
                let audioSrc = window.URL.createObjectURL(audioData);
          var reader = new FileReader(); 
            reader.readAsDataURL(audioData); 
            reader.onloadend = function () { 
            var base64String = reader.result; 
            
          snapshots
              .update({
                [str_counter_2]: base64String,
              })
              .then(function () {
                str_counter_2 = "audio_recording_"+str_counter_0;
                console.log("audio saved successfully");
              })
              .catch(function (error) {
                console.log("Got an error: ", error);
              });
            // Simply Print the Base64 Encoded String, 
            // without additional data: Attributes. 
            } 
                // Pass the audio url to the 2nd video tag
                playAudio.src = audioSrc;
              };
            })
    
            // If any error occurs then handles the error
            .catch(function (err) {
              console.log(err.name, err.message);
            });
            }
       

////////////////////////////--detect window is not focused
function display_msg() {
if (document.hasFocus() == true) {
  document.getElementById('my_msg').style.backgroundColor = "#00f000";
  document.getElementById('my_msg').innerHTML = "<p style = 'font-family:roboto,garamond,serif;font-size:18px;margin-left:5px' >This exam window is in Focus</p>";
}
else
{
  document.getElementById('my_msg').style.backgroundColor = "#f07814";
  document.getElementById('my_msg').innerHTML = "<p style = 'font-family:roboto,garamond,serif;font-size:18px;' >This exam window is NOT in Focus</p>";
  violation++;
}
reload();
  // if(violation > 5){
  //   console.log("testing");
  //   var x = document.getElementsByClassName("demo-card-square");
  //   var n;
  //   for(n=0;n < x.length;n++){
  //   x[n].style.display = "none";
  //   }
  //   // document.getElementById("violate").innerHTML = "You have violated the exam rules more than 5 secs you have been disqualified";
  //   document.getElementById("violate").style.display = "";
  //   document.getElementById("my_msg").style.display = "block";
  //   document.getElementById("hand").style.display = "none";
  //   window.stop();
    
  // } 
}

// }
window.onload=myFunction;
//////////////

// check for microphone/camera support!
checkDeviceSupport(function() {
  var x = document.getElementsByClassName("demo-card-square");
  var allow = document.getElementById("allow");
  console.log(x);
  if(isMicrophoneAlreadyCaptured == true && isWebcamAlreadyCaptured == true){
    allow.style.display = "none";
    for(i=0;x.length;i++){
  x[i].style.display = "block";
  }
  } else {
   
  for(i=0;x.length;i++){
  x[i].style.display = "none";
  }

  }

})
</script>
<footer style="position: fixed; width: 100%; bottom: 0px;">
  <p style = "font-family:roboto,garamond,serif;font-size:18px;">Any question just contact this number: </p>
  <p style = "font-family:roboto,garamond,serif;font-size:18px;"><a href="online@proctor.com">(+60) 123456789(test admin)</a></p>
    <p style = "font-family:roboto,garamond,serif;font-size:18px;"><a href="online@proctor.com">online@proctor.com</a></p>
</footer>  
</html>
{% endblock %}